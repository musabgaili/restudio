<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Virtual Tour Editor</title>
  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
    rel="stylesheet"
  />
  <link
    href="https://cdn.jsdelivr.net/npm/pannellum@2.5.6/build/pannellum.css"
    rel="stylesheet"
  />
  <link rel="stylesheet" href="styles.css">
</head>
<body class="container-fluid py-4">
  <div class="row">
    <!-- Sidebar -->
    <div class="col-md-3">
      <h4>Tour Builder</h4>
      <!-- Upload multiple -->
      <input type="file" id="imageInput" accept="image/*" multiple class="form-control my-2" />
      <!-- Image List -->
      <div id="imageList" class="list-group mb-3"></div>
      <!-- Hotspot Info and Link Creator -->
      <div class="controller-group" id="hotspotControllers">
        <h5>Hotspot Controllers</h5>
        <div class="controller-buttons">
          <button type="button" id="infoButton">Add Info Hotspot</button>
          <button type="button" id="linkButton">Add Link Hotspot</button>
        </div>
        <form id="hotspotForm">
          <input type="hidden" id="hotspotPitch" />
          <input type="hidden" id="hotspotYaw" />
          <input type="hidden" id="hotspotType" value="info" />

          <div id="hotspotFormFields" style="display: none;">
            <div class="mb-3" id="hotspotTextContainer">
              <label class="form-label">Hotspot Text</label>
              <input type="text" id="hotspotText" class="form-control" required />
            </div>
            <div class="mb-3" id="hotspotLinkContainer" style="display: none;">
              <label class="form-label">Target Image</label>
              <select id="hotspotLink" class="form-select">
                <option value="" disabled selected>Select target image</option>
                <!-- More options will be populated dynamically -->
              </select>
            </div>
            <button type="submit" class="btn btn-primary">Save Hotspot</button>
          </div>
        </form>
      </div>
      <!-- Save and Load Buttons -->
      <div class="mt-4">
        <button class="btn btn-secondary mb-2 w-100" id="saveBtn">Save Project</button>
        <button class="btn btn-secondary mb-2 w-100" id="loadBtn">Load Project</button>
      </div>
    </div>
    <!-- Main Viewer -->
    <div class="col-md-9">
      <h3>360 Tour Viewer</h3>
      <div id="viewer"></div>
      <!-- Export -->
      <button class="btn btn-primary mb-3" id="exportBtn">Export Hotspots JSON</button>
      <div id="hotspotsJson" class="border rounded"></div>
    </div>
  </div>

  <!-- Scripts -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/pannellum@2.5.6/build/pannellum.js"></script>
  <script src="script.js" type="module"></script>
</body>
</html>
